# 查询任务列表

## 接口信息

- **URL**: `/api/tasks`
- **方法**: `GET`
- **描述**: 查询任务列表，支持按状态筛选、排序和分页

## 请求参数

### Query参数

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| status | Integer | 否 | - | 任务状态：0-未完成，1-已完成，不传则查询全部 |
| sortType | String | 否 | latest | 排序类型：latest-最新添加，dueTime-即将截止，priority-优先级 |
| page | Integer | 否 | 1 | 页码，从1开始 |
| size | Integer | 否 | 20 | 每页数量 |

## 请求示例

```bash
# 查询所有任务（默认排序）
curl http://localhost:8080/api/tasks

# 查询未完成的任务
curl "http://localhost:8080/api/tasks?status=0"

# 按优先级排序
curl "http://localhost:8080/api/tasks?sortType=priority"

# 分页查询
curl "http://localhost:8080/api/tasks?page=1&size=10"

# 组合查询：未完成的任务，按截止时间排序，第1页，每页10条
curl "http://localhost:8080/api/tasks?status=0&sortType=dueTime&page=1&size=10"
```

```javascript
// 查询所有任务
fetch('http://localhost:8080/api/tasks')
  .then(response => response.json())
  .then(data => console.log(data));

// 查询未完成的任务，按优先级排序
fetch('http://localhost:8080/api/tasks?status=0&sortType=priority&page=1&size=20')
  .then(response => response.json())
  .then(data => console.log(data));
```

## 响应示例

### 成功响应

```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "data": [
      {
        "id": 2,
        "title": "测试任务2",
        "description": "这是第二个测试任务",
        "status": 0,
        "statusDesc": "未完成",
        "priority": 2,
        "priorityDesc": "中",
        "dueTime": null,
        "overdue": false,
        "createTime": "2025-11-14T12:45:40",
        "updateTime": "2025-11-14T12:45:40",
        "finishTime": null
      },
      {
        "id": 1,
        "title": "测试任务1",
        "description": "这是第一个测试任务",
        "status": 0,
        "statusDesc": "未完成",
        "priority": 1,
        "priorityDesc": "高",
        "dueTime": "2024-12-31T23:59:00",
        "overdue": true,
        "createTime": "2025-11-14T12:45:38",
        "updateTime": "2025-11-14T12:45:38",
        "finishTime": null
      }
    ],
    "total": 2,
    "page": 1,
    "size": 20,
    "totalPages": 1
  }
}
```

## 响应字段说明

### data字段（分页结果）

| 字段 | 类型 | 说明 |
|------|------|------|
| data | Array | 任务列表 |
| total | Long | 总记录数 |
| page | Integer | 当前页码 |
| size | Integer | 每页数量 |
| totalPages | Integer | 总页数 |

### data数组中的任务对象

| 字段 | 类型 | 说明 |
|------|------|------|
| id | Long | 任务ID |
| title | String | 任务标题 |
| description | String | 任务描述 |
| status | Integer | 任务状态：0-未完成，1-已完成 |
| statusDesc | String | 状态描述 |
| priority | Integer | 优先级：1-高，2-中，3-低 |
| priorityDesc | String | 优先级描述 |
| dueTime | String | 截止时间，null表示无截止时间 |
| overdue | Boolean | 是否逾期（仅未完成任务且已过期时为true） |
| createTime | String | 创建时间 |
| updateTime | String | 更新时间 |
| finishTime | String | 完成时间，未完成时为null |

## 排序规则

### latest（最新添加，默认）
- 按创建时间倒序排列（最新任务在顶部）

### dueTime（即将截止）
- 按截止时间正序排列（即将截止的在前面）
- 无截止时间的任务排在最后
- 同截止时间的按创建时间倒序

### priority（优先级）
- 按优先级升序排列（高→中→低）
- 同优先级的按创建时间倒序

## 业务规则

1. 默认查询所有任务（不区分状态）
2. status=0：仅查询未完成任务（包括逾期未完成）
3. status=1：仅查询已完成任务
4. 分页从第1页开始
5. 每页默认20条，最大建议不超过100条

## 注意事项

1. 空列表时，data数组为空，total为0
2. 逾期判断：仅对未完成且有截止时间的任务，且截止时间已过期时，overdue为true
3. 时间字段格式：ISO 8601格式 `YYYY-MM-DDTHH:mm:ss`

