# 状态分布

## 接口信息

- **URL**: `/api/stats/distribution`
- **方法**: `GET`
- **描述**: 获取任务状态分布统计（未完成和已完成的数量）

## 请求参数

无

## 请求示例

```bash
curl http://localhost:8080/api/stats/distribution
```

```javascript
fetch('http://localhost:8080/api/stats/distribution')
  .then(response => response.json())
  .then(data => console.log(data));
```

## 响应示例

### 成功响应

```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "completionRate": null,
    "completionRateByPriority": null,
    "trendData": null,
    "unfinishedCount": 5,
    "finishedCount": 3
  }
}
```

## 响应字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| completionRate | Double | 此接口不返回，为null |
| completionRateByPriority | Map | 此接口不返回，为null |
| trendData | Array | 此接口不返回，为null |
| unfinishedCount | Long | 未完成任务数量 |
| finishedCount | Long | 已完成任务数量 |

## 业务规则

1. 统计所有任务的状态分布（不区分时间）
2. unfinishedCount：状态为0（未完成）的任务总数
3. finishedCount：状态为1（已完成）的任务总数
4. 总任务数 = unfinishedCount + finishedCount

## 数据说明

- **unfinishedCount**：当前所有未完成任务的数量
- **finishedCount**：当前所有已完成任务的数量

## 注意事项

1. 此接口统计所有任务，不受时间范围限制
2. 可以用于绘制饼图展示任务状态分布
3. 数据实时更新，反映当前数据库中的实际状态

## 使用场景

- 用于展示任务状态分布饼图
- 用于显示任务完成情况概览
- 用于生成状态统计报表

## 前端图表示例

```javascript
// 使用ECharts绘制饼图
const unfinishedCount = response.data.unfinishedCount;
const finishedCount = response.data.finishedCount;

const option = {
  series: [
    {
      type: 'pie',
      data: [
        { value: unfinishedCount, name: '未完成' },
        { value: finishedCount, name: '已完成' }
      ]
    }
  ]
};
```

