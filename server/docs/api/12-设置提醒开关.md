# 设置提醒开关

## 接口信息

- **URL**: `/api/settings/reminder`
- **方法**: `POST`
- **描述**: 开启或关闭全局提醒功能

## 请求参数

### Query参数

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| enabled | Boolean | 是 | 提醒开关：true-开启，false-关闭 |

## 请求示例

```bash
# 开启提醒
curl -X POST "http://localhost:8080/api/settings/reminder?enabled=true"

# 关闭提醒
curl -X POST "http://localhost:8080/api/settings/reminder?enabled=false"
```

```javascript
// 开启提醒
fetch('http://localhost:8080/api/settings/reminder?enabled=true', {
  method: 'POST'
})
.then(response => response.json())
.then(data => console.log(data));

// 关闭提醒
fetch('http://localhost:8080/api/settings/reminder?enabled=false', {
  method: 'POST'
})
.then(response => response.json())
.then(data => console.log(data));
```

## 响应示例

### 成功响应

```json
{
  "code": 200,
  "message": "操作成功",
  "data": null
}
```

### 失败响应

```json
{
  "code": 500,
  "message": "系统异常，请稍后重试"
}
```

## 响应字段说明

成功时data字段为null。

## 业务规则

1. enabled参数必须为true或false
2. 设置后立即生效
3. 此设置是全局设置，影响所有任务的提醒功能
4. 如果关闭提醒，定时任务仍会扫描，但不会返回提醒数据

## 注意事项

1. 此设置存储在Redis中，有效期365天
2. 关闭提醒后，`/api/reminders`接口将返回空数组
3. 前端可以在设置页面提供开关控件
4. 建议在设置成功后提示用户

## 使用场景

- 在设置页面提供提醒开关控件
- 允许用户控制是否接收任务提醒

## 前端实现建议

```javascript
// 设置提醒开关
function setReminderEnabled(enabled) {
  fetch(`http://localhost:8080/api/settings/reminder?enabled=${enabled}`, {
    method: 'POST'
  })
  .then(response => response.json())
  .then(data => {
    if (data.code === 200) {
      // 设置成功
      if (enabled) {
        // 开启提醒，启动轮询
        startReminderPolling();
        alert('提醒功能已开启');
      } else {
        // 关闭提醒，停止轮询
        stopReminderPolling();
        alert('提醒功能已关闭');
      }
    } else {
      alert('设置失败：' + data.message);
    }
  });
}
```

