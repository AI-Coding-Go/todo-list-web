# CodeBuddy 使用反馈

## 遇到的问题

### 1. 响应卡顿
- **聊天输出卡住**：在 AI 生成响应的过程中，偶尔会出现输出停滞，需要手动终止后重新提问
- **命令行阻塞**：终端界面有时会卡住不动，需要手动打断（Ctrl+C）才能继续操作

### 2. 行为不可预测
- **需求理解偏差**：即使需求描述已非常明确，AI 仍可能自行扩展或修改原有需求
- **过度实现**：存在"幻觉"现象，会在未被要求的情况下添加额外功能

### 3. Token 消耗过快
命令行模式下 Token 消耗速度较快，导致频繁触发使用限制，影响开发效率

---

## 使用经验总结

### 原则一：简洁优先

将项目规范控制在 **300 行以内**，确保 AI 能完整理解并遵循。规范应包含以下核心部分：

| 内容 | 说明 |
|------|------|
| 技术栈声明 | 明确使用的技术框架和版本 |
| 项目结构说明 | 目录组织的约定和文件放置规则 |
| 代码风格规范 | 命名、格式、注释等统一标准 |
| 工作流说明 | 开发流程的先后顺序 |
| 限制事项 | 明确告知哪些可以做、哪些不能做 |

#### 工作流示例

```
# 新功能开发
类型定义 → 组件实现 → 测试编写

# Bug 修复
复现测试 → 代码修复 → 验证测试通过
```

#### 限制事项示例

```
# 禁止操作
- 不要修改 /prisma/schema.prisma（需团队评审）
- 不要安装新依赖包（需在 package.json review 时讨论）
- 不要修改 /lib/auth/*（认证逻辑敏感）

# 允许操作
- 可以自由修改 /components 和 /app 下的业务代码
```

---

### 原则二：指令具体化

避免使用模糊、主观的描述，必须给出可量化、可验证的标准。

#### ❌ 错误示例（模糊不清）

| 指令 | 问题 |
|------|------|
| "保持代码简洁" | 简洁的标准是什么？ |
| "使用最佳实践" | 最佳实践具体指什么？ |
| "注意性能优化" | 优化到什么程度？ |

这种写法等于没写，AI 无法准确理解，执行时容易产生偏差和"幻觉"。

#### ✅ 正确示例（具体可执行）

```markdown
# 代码风格规范

- 单函数不超过 50 行，超过则拆分
- API 调用必须包含错误处理和 loading 状态
- 列表渲染必须添加 key 属性，使用 ID 而非 index
- 避免嵌套三元表达式，改用 if/else 或早期 return
```

这样的规则每一条都是明确的、可验证的，AI 能够准确执行。
